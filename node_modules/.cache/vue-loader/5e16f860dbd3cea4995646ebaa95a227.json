{"remainingRequest":"/Users/guohan3/VSCodeProjects/erp/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/guohan3/VSCodeProjects/erp/src/components/contract/contract.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/guohan3/VSCodeProjects/erp/src/components/contract/contract.vue","mtime":1586313540946},{"path":"/Users/guohan3/VSCodeProjects/erp/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/guohan3/VSCodeProjects/erp/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/guohan3/VSCodeProjects/erp/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/guohan3/VSCodeProjects/erp/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgY29udHJhY3Q6IHsKICAgICAgICBjb250cmFjdElkOiAiIiwKICAgICAgICBjdXN0b21lcklkOiAiIiwKICAgICAgICBzYWxlTWFuOiAiIiwKICAgICAgICBvcmRlclN0YXR1czogIiIsCiAgICAgICAgb3JkZXJTdHlsZTogIiIsCiAgICAgICAgaW52b2ljZVN0YXR1czogIiIsCiAgICAgICAgaW52b2ljZVN0eWxlOiAiIiwKICAgICAgICBkaW5nZGluZ05vOiAiIiwKICAgICAgICBvcmRlclRpbWU6ICIiCiAgICAgIH0sCiAgICAgIGN1c3RvbWVySWRzOiBbXSwKICAgICAgYWxsT3JkZXJTdGF0dXM6IFsi5pyq5Y+R6LSnIiwgIuW3suWPkei0pyIsICLlt7LlrozmiJAiXSwKICAgICAgYWxsT3JkZXJTdHlsZTogWyLmraPlvI/orqLljZUiLCAi6K+V55So6K6i5Y2VIl0sCiAgICAgIGFsbEludm9pY2VTdHlsZTogWyLkuJPnpagiLCAi5pmu56WoIl0sCiAgICAgIGFsbEludm9pY2VTdGF0dXM6IFsi5pyq5byA56WoIiwgIuW3suW8gOelqCJdLAogICAgICBkaWFsb2dWaXNpYmxlOiBmYWxzZSwKICAgICAgcHJvZHVjdDogewogICAgICAgIC8vIHdhcmVob3VzZTogIuS7k+W6k+S4gCIsCiAgICAgICAgLy8gcHJvZHVjdElkOiAi5Lqn5ZOB57yW56CB5LiAIiwKICAgICAgICAvLyBwcm9kdWN0TmFtZTogIuS6p+WTgeWQjeensOS4gCIsCiAgICAgICAgLy8gcHJvZHVjdE1vZGVsOiAi5Lqn5ZOB5Z6L5Y+35LiAIiwKICAgICAgICAvLyB1bml0UHJpY2U6IDEwMC4wLAogICAgICAgIC8vIHByb2R1Y3ROdW06IDEyLAogICAgICAgIC8vIHRvdGFsTnVtOiAxMjAwLjAKICAgICAgfSwKICAgICAgLy8gICDlt7LpgInkuqflk4HliJfooagKICAgICAgcHJvZHVjdHM6IFsKICAgICAgICAgIHsKICAgICAgICAgICAgICBpZDoxLAogICAgICAgICAgICAgIG5hbWU6J3Rlc3QxJwogICAgICAgICAgfSwKICAgICAgICAgIHsKICAgICAgICAgICAgICBpZDoxLAogICAgICAgICAgICAgIG5hbWU6J3Rlc3QyJwogICAgICAgICAgfQogICAgICBdLAogICAgICBzZWxlY3RlZFByb2R1Y3RzOiBbCiAgICAgICAgewogICAgICAgICAgd2FyZWhvdXNlOiAi5LuT5bqT5LiAIiwKICAgICAgICAgIHByb2R1Y3RJZDogIuS6p+WTgee8lueggeS4gCIsCiAgICAgICAgICBwcm9kdWN0TmFtZTogIuS6p+WTgeWQjeensOS4gCIsCiAgICAgICAgICBwcm9kdWN0TW9kZWw6ICLkuqflk4Hlnovlj7fkuIAiLAogICAgICAgICAgdW5pdFByaWNlOiAxMDAuMCwKICAgICAgICAgIHByb2R1Y3ROdW06IDEyLAogICAgICAgICAgdG90YWxOdW06IDEyMDAuMCwKICAgICAgICAgIGVkaXQ6ZmFsc2UKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgIHdhcmVob3VzZTogIuS7k+W6k+S6jCIsCiAgICAgICAgICBwcm9kdWN0SWQ6ICLkuqflk4HnvJbnoIHkuowiLAogICAgICAgICAgcHJvZHVjdE5hbWU6ICLkuqflk4HlkI3np7DkuowiLAogICAgICAgICAgcHJvZHVjdE1vZGVsOiAi5Lqn5ZOB5Z6L5Y+35LqMIiwKICAgICAgICAgIHVuaXRQcmljZTogNTAuMCwKICAgICAgICAgIHByb2R1Y3ROdW06IDEwLAogICAgICAgICAgdG90YWxOdW06IDUwMC4wLAogICAgICAgICAgZWRpdDpmYWxzZQogICAgICAgIH0KICAgICAgXQogICAgfTsKICB9LAogIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmNvbnRyYWN0Lm9yZGVyU3RhdHVzID0gdGhpcy5hbGxPcmRlclN0YXR1c1swXTsKICAgIHRoaXMuY29udHJhY3Qub3JkZXJTdHlsZSA9IHRoaXMuYWxsT3JkZXJTdHlsZVswXTsKICAgIHRoaXMuY29udHJhY3QuaW52b2ljZVN0YXR1cyA9IHRoaXMuYWxsSW52b2ljZVN0YXR1c1swXTsKICAgIHRoaXMuY29udHJhY3QuaW52b2ljZVN0eWxlID0gdGhpcy5hbGxJbnZvaWNlU3R5bGVbMF07CiAgICB0aGlzLmdldEFsbEN1c3RvbWVySWQoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGRlbGV0ZVByb2R1Y3QocHJvZHVjdCkgewogICAgICBjb25zb2xlLmxvZyhwcm9kdWN0KTsKICAgIH0sCiAgICBhZGRDb250cmFjdEJ0bkNsaWNrKCkge30sCiAgICBhc3luYyBnZXRBbGxDdXN0b21lcklkKCkgewogICAgICBjb25zdCB7IGRhdGE6IHJlcyB9ID0gYXdhaXQgdGhpcy4kaHR0cC5nZXQoImN1c3RvbWVyL2dldEFsbEN1c3RvbWVySWQiKTsKICAgICAgaWYgKHJlcy5jb2RlID09IDApIHsKICAgICAgICB0aGlzLmN1c3RvbWVySWRzID0gcmVzLm1zZzsKICAgICAgICB0aGlzLmNvbnRyYWN0LmN1c3RvbWVySWQgPSB0aGlzLmN1c3RvbWVySWRzWzBdOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoIuafpeivouWHuumUmSzor7fogZTns7vnrqHnkIblkZgiKTsKICAgICAgfQogICAgfSwKICAgIGhhbmRsZVNlbGVjdGlvbkNoYW5nZSh2YWwpIHsKICAgICAgLy8gY29uc29sZS5sb2codmFsKQogICAgfSwKICAgIC8v54K55Ye75re75Yqg5Lqn5ZOB5oyJ6ZKuCiAgICBhZGRQcm9kdWN0QnRuQ2xpY2soKSB7CiAgICAgIGNvbnNvbGUubG9nKHRoaXMuJHJlZnMubXVsdGlwbGVUYWJsZS5zZWxlY3Rpb24pOwogICAgICB0aGlzLnNlbGVjdGVkUHJvZHVjdHMucHVzaCh7fSk7CiAgICB9LAogICAgY2xpY2tJbnB1dChwcm9kdWN0KSB7CiAgICAgIGNvbnNvbGUubG9nKHByb2R1Y3QpOwogICAgfQogIH0KfTsK"},{"version":3,"sources":["contract.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"contract.vue","sourceRoot":"src/components/contract","sourcesContent":["<template>\n  <div>\n    <el-form\n      ref=\"contractFormRef\"\n      :inline=\"true\"\n      :model=\"contract\"\n      label-width=\"100px\"\n      size=\"medium\"\n    >\n      <!-- 合同 -->\n        <el-form-item :span=\"8\" label=\"合同编号\" prop=\"contractId\">\n          <el-input v-model=\"contract.contractId\"></el-input>\n        </el-form-item>\n\n        <el-form-item  :span=\"8\" label=\"客户编号\" prop=\"customerId\">\n          <el-select v-model=\"contract.customerId\">\n            <el-option v-for=\"item in customerIds\" :label=\"item\" :value=\"item\" :key=\"item\"></el-option>\n          </el-select>\n        </el-form-item>\n\n        <el-form-item  :span=\"8\" label=\"业务员\" prop=\"saleMan\">\n          <el-input v-model=\"contract.saleMan\"></el-input>\n        </el-form-item>\n\n        <el-form-item :span=\"8\" label=\"订单状态\" prop=\"orderStatus\">\n          <el-select v-model=\"contract.orderStatus\">\n            <el-option v-for=\"item in allOrderStatus\" :label=\"item\" :value=\"item\" :key=\"item\"></el-option>\n          </el-select>\n        </el-form-item>\n\n        <el-form-item label=\"订单类型\" prop=\"orderStatus\">\n          <el-select v-model=\"contract.orderStyle\">\n            <el-option v-for=\"item in allOrderStyle\" :label=\"item\" :value=\"item\" :key=\"item\"></el-option>\n          </el-select>\n        </el-form-item>\n\n        <el-form-item :span=\"8\" label=\"发票类型\" prop=\"invoiceStyle\">\n          <el-select v-model=\"contract.invoiceStyle\">\n            <el-option v-for=\"item in allInvoiceStyle\" :label=\"item\" :value=\"item\" :key=\"item\"></el-option>\n          </el-select>\n        </el-form-item>\n \n        <el-form-item :span=\"8\" label=\"开票状态\" prop=\"invoiceStatus\">\n          <el-select v-model=\"contract.invoiceStatus\">\n            <el-option v-for=\"item in allInvoiceStatus\" :label=\"item\" :value=\"item\" :key=\"item\"></el-option>\n          </el-select>\n        </el-form-item>\n\n\n        <el-form-item :span=\"8\" label=\"钉钉编号\" prop=\"dingdingNo\">\n          <el-input v-model=\"contract.dingdingNo\"></el-input>\n        </el-form-item>\n\n        <el-form-item label=\"合同日期\" prop=\"orderTime\">\n          <!-- <el-input v-model=\"contract.orderTime\"></el-input> -->\n          <!-- <el-calendar v-model=\"contract.orderTime\"></el-calendar> -->\n          <el-date-picker\n            v-model=\"contract.orderTime\"\n            type=\"date\"\n            placeholder=\"选择日期\"\n            value-format=\"yyyy-MM-dd\"\n          ></el-date-picker>\n        </el-form-item>\n\n    </el-form>\n\n    <el-row :gutter=\"20\">\n      <el-col :span=\"3\" :offset=\"21\">\n        <el-button size=\"small\" type=\"primary\" @click=\"addProductBtnClick\">添加产品</el-button>\n      </el-col>\n    </el-row>\n\n    <el-table\n      ref=\"multipleTable\"\n      :data=\"selectedProducts\"\n      tooltip-effect=\"dark\"\n      style=\"width: 100%\"\n      @selection-change=\"handleSelectionChange\"\n    >\n      <el-table-column prop=\"productId\" label=\"产品编码\" width=\"120\">\n           <template scope=\"scope\">\n            <el-input v-show=\"scope.row.edit\" size=\"small\" v-model=\"scope.row.productId\"></el-input>\n            <span v-show=\"!scope.row.edit\" @click=\"scope.row.edit=!scope.row.edit\">{{ scope.row.productId }}</span>\n        </template>\n      </el-table-column>\n      <el-table-column prop=\"warehouse\" label=\"仓库\" width=\"120\">\n          <template scope=\"scope\">\n            <el-input v-show=\"scope.row.edit\" size=\"small\" v-model=\"scope.row.warehouse\"></el-input>\n            <span v-show=\"!scope.row.edit\" @click=\"scope.row.edit=!scope.row.edit\">{{ scope.row.warehouse }}</span>\n        </template>\n      </el-table-column>\n      <el-table-column prop=\"productName\" label=\"产品名称\" show-overflow-tooltip></el-table-column>\n      <el-table-column prop=\"productModel\" label=\"产品型号\" show-overflow-tooltip></el-table-column>\n      <el-table-column prop=\"unitPrice\" label=\"产品单价\" show-overflow-tooltip></el-table-column>\n      <el-table-column prop=\"productNum\" label=\"数量\" show-overflow-tooltip></el-table-column>\n      <el-table-column prop=\"totalNum\" label=\"总金额\" show-overflow-tooltip></el-table-column>\n\n      <el-table-column label=\"操作\">\n        <template slot-scope=\"scope\">\n          <el-button\n            type=\"danger\"\n            icon=\"el-icon-delete\"\n            size=\"mini\"\n            @click=\"deleteProduct(scope.row)\"\n          ></el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      contract: {\n        contractId: \"\",\n        customerId: \"\",\n        saleMan: \"\",\n        orderStatus: \"\",\n        orderStyle: \"\",\n        invoiceStatus: \"\",\n        invoiceStyle: \"\",\n        dingdingNo: \"\",\n        orderTime: \"\"\n      },\n      customerIds: [],\n      allOrderStatus: [\"未发货\", \"已发货\", \"已完成\"],\n      allOrderStyle: [\"正式订单\", \"试用订单\"],\n      allInvoiceStyle: [\"专票\", \"普票\"],\n      allInvoiceStatus: [\"未开票\", \"已开票\"],\n      dialogVisible: false,\n      product: {\n        // warehouse: \"仓库一\",\n        // productId: \"产品编码一\",\n        // productName: \"产品名称一\",\n        // productModel: \"产品型号一\",\n        // unitPrice: 100.0,\n        // productNum: 12,\n        // totalNum: 1200.0\n      },\n      //   已选产品列表\n      products: [\n          {\n              id:1,\n              name:'test1'\n          },\n          {\n              id:1,\n              name:'test2'\n          }\n      ],\n      selectedProducts: [\n        {\n          warehouse: \"仓库一\",\n          productId: \"产品编码一\",\n          productName: \"产品名称一\",\n          productModel: \"产品型号一\",\n          unitPrice: 100.0,\n          productNum: 12,\n          totalNum: 1200.0,\n          edit:false\n        },\n        {\n          warehouse: \"仓库二\",\n          productId: \"产品编码二\",\n          productName: \"产品名称二\",\n          productModel: \"产品型号二\",\n          unitPrice: 50.0,\n          productNum: 10,\n          totalNum: 500.0,\n          edit:false\n        }\n      ]\n    };\n  },\n  created() {\n    this.contract.orderStatus = this.allOrderStatus[0];\n    this.contract.orderStyle = this.allOrderStyle[0];\n    this.contract.invoiceStatus = this.allInvoiceStatus[0];\n    this.contract.invoiceStyle = this.allInvoiceStyle[0];\n    this.getAllCustomerId();\n  },\n  methods: {\n    deleteProduct(product) {\n      console.log(product);\n    },\n    addContractBtnClick() {},\n    async getAllCustomerId() {\n      const { data: res } = await this.$http.get(\"customer/getAllCustomerId\");\n      if (res.code == 0) {\n        this.customerIds = res.msg;\n        this.contract.customerId = this.customerIds[0];\n      } else {\n        this.$message.error(\"查询出错,请联系管理员\");\n      }\n    },\n    handleSelectionChange(val) {\n      // console.log(val)\n    },\n    //点击添加产品按钮\n    addProductBtnClick() {\n      console.log(this.$refs.multipleTable.selection);\n      this.selectedProducts.push({});\n    },\n    clickInput(product) {\n      console.log(product);\n    }\n  }\n};\n</script>\n\n<style lang=\"less\" scoped>\n</style>"]}]}